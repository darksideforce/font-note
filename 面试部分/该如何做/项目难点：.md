背景是：我们上线了可能会曝光次数达到千万级别的移动端业务，之前的数据上报功能出现了一些问题导致数据和真实的曝光次数无法对上。
排查问题：
首先我们检查数据库发现是不仅除了曝光次数无法对上。且其他的打点数据都多多少少有些问题。无法和频率对上。本地模拟了一下场景发现如果业务多次触发数据上报会出现一个请求频次并发的场景导致服务端堵塞。并且由于我们这个移动端业务的js进程会被安卓强制销毁（消耗性能过大），导致其他的上报进程也被销毁
解决问题：
1：重写数据上报模块，新增开关打开防抖节流。新增任务队列模块。优先上报关键数据
2：检查移动端的业务。重构了部分布局降低性能问题。包括：使用图片懒加载功能。将大图片更为svg或者cdn，小图片更改为base64格式。降低动画性能。降低dom层级。从20层深度降低为12层左右。有力减少了安卓渲染压力
3：使用indexDb和localstorage来进行缓存数据打点请求。每次中断时进行储存



